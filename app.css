/* app.css */
:root{
  color-scheme:light dark;
  --bg:Canvas; --fg:CanvasText;
  --mut:color-mix(in srgb, CanvasText 60%, transparent);
  --b:color-mix(in srgb, CanvasText 18%, transparent);
  --b2:color-mix(in srgb, CanvasText 26%, transparent);
  --card:color-mix(in srgb, Canvas 92%, transparent);
  --card2:color-mix(in srgb, Canvas 96%, transparent);
  --pri:#69f; --ok:#0a7; --warn:#d8a400; --bad:#c33;
  --r:16px; --r2:22px;
  --sh:0 14px 50px rgba(0,0,0,.22);
  --tr:180ms cubic-bezier(.2,.9,.2,1);
  --mono:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;max-width:100%;overflow-x:hidden}
body{
  background:radial-gradient(1200px 800px at 20% -10%, color-mix(in srgb,var(--pri) 26%, transparent), transparent 60%),
             radial-gradient(1200px 900px at 110% 20%, color-mix(in srgb,#f90 16%, transparent), transparent 60%),
             var(--bg);
  color:var(--fg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  padding:14px;
}
.mono{font-family:var(--mono)}
.muted{color:var(--mut)}
.row{display:flex;gap:10px;align-items:center}
.row.wrap{flex-wrap:wrap}
.row.tight{gap:8px}
.row.between{justify-content:space-between}
.grid{
  display:grid; gap:14px;
  grid-template-columns: minmax(330px, 1fr) minmax(330px, 1.1fr);
  align-items:start;
}
@media (max-width:980px){.grid{grid-template-columns:1fr}}
.card{
  border:1px solid var(--b);
  border-radius:var(--r2);
  background:linear-gradient(180deg,var(--card2),var(--card));
  box-shadow:0 1px 0 rgba(255,255,255,.05);
  overflow:hidden;
}
.top{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin:2px auto 14px; max-width:1200px;
}
.brand{display:flex; gap:10px; align-items:center}
.logo{
  width:42px;height:42px;border-radius:14px;
  display:grid;place-items:center;font-weight:900;
  background:linear-gradient(145deg, color-mix(in srgb,var(--pri) 40%, transparent), transparent);
  border:1px solid var(--b);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.08);
}
.tt .h{font-weight:900;letter-spacing:.2px}
.tt .s{font-size:12px;color:var(--mut);margin-top:2px}
.topActions{display:flex;align-items:center;gap:10px}
.chip,.btn,.field input,.field select,.ta{
  border:1px solid var(--b);
  background:color-mix(in srgb, Canvas 92%, transparent);
  border-radius:14px;
  color:inherit;
}
.btn{
  padding:10px 12px; font-size:13px; cursor:pointer;
  transition:transform var(--tr), box-shadow var(--tr), border-color var(--tr), opacity var(--tr);
  touch-action:manipulation;
}
.btn:hover{border-color:var(--b2)}
.btn:active{transform:translateY(1px)}
.btn:focus{outline:none; box-shadow:0 0 0 3px color-mix(in srgb,var(--pri) 40%, transparent)}
.btn[disabled]{opacity:.45;cursor:not-allowed}
.btn.pri{
  border-color:color-mix(in srgb,var(--pri) 60%, var(--b));
  box-shadow:0 10px 30px color-mix(in srgb,var(--pri) 16%, transparent);
}
.btn.ghost{background:transparent}
.fileBtn{display:inline-flex;align-items:center;gap:8px}
.chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:7px 10px; font-size:12px;
}
.dot{width:10px;height:10px;border-radius:999px;display:inline-block}
.dot.g{background:var(--ok)}
.dot.y{background:var(--warn)}
.dot.r{background:var(--bad)}
.inputCard{padding:12px}
.outCard{padding:12px}
.meta .k{font-size:12px;color:var(--mut)}
.meta .v{font-size:12px;margin-top:2px}
.ta{
  width:100%;
  resize:vertical;
  padding:12px;
  min-height:34vh; max-height:52vh;
  margin-top:10px;
  outline:none;
  transition:border-color var(--tr), box-shadow var(--tr), background var(--tr);
}
.ta:focus{border-color:color-mix(in srgb,var(--pri) 55%, var(--b)); box-shadow:0 0 0 3px color-mix(in srgb,var(--pri) 30%, transparent)}
.ta.sm{min-height:92px;max-height:160px;margin-top:6px}
.bar{margin-top:12px;display:grid;gap:10px}
.field{display:grid;gap:6px;font-size:12px;color:var(--mut)}
.field input,.field select{padding:9px 10px; font-size:13px; color:inherit}
.field input[type="number"]{width:112px}
.tog{display:inline-flex;align-items:center;gap:8px;font-size:12px;color:var(--mut);user-select:none}
.tog input{width:18px;height:18px}
.split2{display:grid;gap:10px;grid-template-columns:1fr 1fr}
@media (max-width:980px){.split2{grid-template-columns:1fr}}
.cap{font-size:12px;color:var(--mut);margin:2px 0 0}
.err{
  display:none;
  padding:10px 12px;
  border:1px solid color-mix(in srgb,var(--bad) 55%, var(--b));
  border-radius:16px;
  background:color-mix(in srgb, Canvas 90%, transparent);
}
.h2{font-weight:900;letter-spacing:.2px}
.hint{font-size:12px;color:var(--mut);text-align:right}
.stats{
  display:grid; gap:10px;
  grid-template-columns:1fr 1fr;
  margin:10px 0 12px;
}
@media (max-width:980px){.stats{grid-template-columns:1fr}}
.stat{
  border:1px solid var(--b);
  border-radius:18px;
  background:linear-gradient(180deg,var(--card2),var(--card));
  padding:10px 12px;
}
.stat .k{font-size:12px;color:var(--mut)}
.stat .v{font-size:18px;font-weight:900;margin-top:2px}
.tableWrap{
  border:1px solid var(--b);
  border-radius:18px;
  overflow:hidden;
  background:color-mix(in srgb, Canvas 92%, transparent);
}
.tableScroll{max-height:46vh;overflow:auto;-webkit-overflow-scrolling:touch}
table{border-collapse:collapse;min-width:1020px;width:1020px;font-size:12px}
thead th{
  position:sticky;top:0;z-index:2;
  text-align:left;white-space:nowrap;
  padding:10px 8px;
  background:color-mix(in srgb, Canvas 96%, transparent);
  border-bottom:1px solid var(--b);
  backdrop-filter: blur(10px);
}
tbody td{
  border-bottom:1px solid color-mix(in srgb, CanvasText 14%, transparent);
  padding:8px;white-space:nowrap;max-width:280px;overflow:hidden;text-overflow:ellipsis;
}
tbody tr{cursor:pointer;transition:background var(--tr), transform var(--tr)}
tbody tr:hover td{background:color-mix(in srgb, Canvas 88%, transparent)}
.pill{
  display:inline-flex;align-items:center;gap:8px;
  padding:3px 10px;border-radius:999px;
  border:1px solid var(--b);
  background:color-mix(in srgb, Canvas 94%, transparent);
}
.badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:3px 10px;border-radius:999px;
  border:1px solid color-mix(in srgb,var(--bad) 55%, var(--b));
  background:color-mix(in srgb, Canvas 94%, transparent);
}
.foot{font-size:12px;margin-top:10px}

/* Modal */
.backdrop{
  display:none;
  position:fixed;inset:0;z-index:999;
  background:rgba(0,0,0,.55);
  padding:14px;
}
.modal{
  max-width:560px; margin:0 auto;
  border:1px solid var(--b);
  border-radius:22px;
  background:linear-gradient(180deg,var(--card2),var(--card));
  box-shadow:var(--sh);
  overflow:hidden;
  transform:translateY(8px) scale(.985);
  opacity:0;
  transition:transform var(--tr), opacity var(--tr);
}
.backdrop.show .modal{transform:translateY(0) scale(1);opacity:1}
.mh{display:flex;gap:10px;align-items:center;padding:12px;border-bottom:1px solid var(--b)}
.mh .t{font-weight:900}
.mh .sp{margin-left:auto}
.mb{padding:12px;display:grid;gap:10px}
.kv{
  border:1px solid var(--b);
  border-radius:18px;
  background:color-mix(in srgb, Canvas 94%, transparent);
  padding:10px;
  display:grid;
  grid-template-columns:120px 1fr;
  gap:6px 10px;
  font-size:12px;
}
.kv .k{color:var(--mut)}
.kv input{
  width:100%;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid var(--b);
  background:color-mix(in srgb, Canvas 92%, transparent);
  color:inherit;
}
.bb{border:1px solid var(--b);border-radius:18px;overflow:hidden;background:color-mix(in srgb, Canvas 94%, transparent)}
.bh{padding:10px;border-bottom:1px solid var(--b);font-size:12px}
pre{
  margin:0;padding:10px;max-height:42vh;overflow:auto;
  white-space:pre-wrap;word-break:break-word;
  font-family:var(--mono);font-size:12px;
}
mark{padding:0 2px;border-radius:4px;background:rgba(255,230,0,.35)}
.mf{padding:12px;border-top:1px solid var(--b);display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}

/* smooth */
@media (prefers-reduced-motion: reduce){
  *{transition:none!important;scroll-behavior:auto!important}
}
